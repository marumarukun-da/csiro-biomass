# DINOv3 + Ridge with PCA/PLS preprocessing

experiment:
  name: exp017_ridge_pca_pls
  seed: 42

backbone:
  model_name: vit_huge_plus_patch16_dinov3.lvd1689m
  hidden_dim: 1280
  num_patches: 3600

dataset:
  img_size: 960
  # feature_dir: (omit to use online extraction)
  target_cols:
    - Dry_Total_g
    - GDM_g
    - Dry_Green_g

# Preprocessing: PCA and PLS for dimensionality reduction
preprocessing:
  pca:
    # n_components can be:
    # - float (0-1): cumulative variance ratio to preserve (e.g., 0.95 = 95%)
    # - int: exact number of components
    # - null: disable PCA
    n_components: 0.98
  pls:
    # n_components: number of PLS components
    # - int > 0: number of components
    # - null: disable PLS
    n_components: 16

head:
  type: ridge
  fit_intercept: true
  # Grid search parameters
  alpha:
    - 0.001
    - 0.01
    - 0.1
    - 1.0
    - 10.0
    - 100.0
    - 1000.0

trainer:
  n_folds: 5
  group_col: site

inference:
  tta_indices:
    - 0
    - 1
    - 2
    - 3
