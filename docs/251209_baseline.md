### ベースライン構築戦略

- 前提
    - サブミット成功が第一目標
        - スコアは後から伸ばしたらいい！
    - 適切なCVの設計
    
- 戦略
    - CSVファイル（train.csv, test.csv）の適切な処理
    
    - 適切なCVを検討
        - とりあえず5fold
        - StratifiedGroupKfold？
            - 何で切るのかをtrain.csvのメタデータからの検討が必要
        - 正常に評価できてそうか確認
        
    - シンプルなモデルアーキテクチャ
        - バックボーン＋ヘッド → 3つの指標を予測
        - 3つの指標：'Dry_Total_g', 'GDM_g', 'Dry_Green_g'
        
    - ロスもシンプル
        - 滑らかなL１ロス
        - 3つの指標を重みづけするカスタムロス（滑らかなL1ロスの重みづけした合計）
        - 評価指標と同じ重みにする
        
    - 画像は左右で半分に分割して別々に入力
    
    - augmentationはとりあえずメジャーどころを採用
        - 水平・垂直反転
        - 明るさ・コントラスト
        - カラージット
        - 正規化パラメータは一旦ImageNetのデフォルトで。
        - （保留）90度回転も良さそうだけど、カメラの特性上あんまりよくないかもなので、ベースラインでは採用しない
        
    - 画像サイズも小さくてOK
        - ベースラインでは学習の効率性を重視するため、224 x 224にする
        - ゆくゆくは画像サイズを上げていく。
        
    - 学習コンポーネント類はいつもの
        - optimizer: AdamW
        - schduler: ウォームアップコサイン焼きなまし
            - `from transformers import get_cosine_schedule_with_warmup`で使用可能なスケジューラー
        
    - TTA
        - オリジナル、水平、垂直反転の3つの画像の結果を統合
        - 画像を左右で分割するから合計9通りになるので9通りの結果を平均する
        
    - （オプション）学習状況をwandbで可視化できるように
        - スマホで見たいので、簡単に実装できる（かつ既存の実装をあまり壊さない）のであれば実装する
        
    - kaggleテンプレートで初サブ成功したら、実験を効率よく回せるように設計
        - pj_kenpinスタイルを踏襲か、もっといい方法あるか検討
            - pj_kenpinスタイル：YAMLで各種設定値を定義し、一つのYAMLのみで組み合わせ総当たりでモデル学習を実行してくれるスタイル
        
- 使用する主なライブラリ
    - Pytorch
    - timm
    - albumentations
